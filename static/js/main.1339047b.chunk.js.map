{"version":3,"sources":["components/video-tile-big/video-tile-big.module.scss","pages/watch/watch.module.scss","components/video-tile/video-tile.module.scss","components/search/search.module.scss","components/api-key/api-key.module.scss","pages/home/home.module.scss","components/universal-select/universal-select.module.scss","components/header/header.module.scss","pages/search/search.module.scss","app/video-platforms.ts","api/youtube.service.ts","api/vimeo.service.ts","app/utils.ts","app/consts.ts","components/header/header.slice.ts","app/store.ts","skeletons/rectangle.tsx","components/video-tile/video-tile.tsx","skeletons/skeleton-video-tile.tsx","pages/home/home.tsx","components/search/search.tsx","components/universal-select/universal-select.tsx","components/api-key/api-key.tsx","components/header/header.tsx","skeletons/skeleton-video-tile-big.tsx","components/video-tile-big/video-tile-big.tsx","pages/search/search.tsx","pages/watch/watch.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["module","exports","VideoPlatforms","YoutubeService","apiKey","baseUrl","videosUrl","this","searchUrl","maxResults","searchPhrase","pageToken","a","params","stringify","q","type","key","axios","get","search","idsList","data","items","map","video","id","videoId","join","getVideos","res","nextPageToken","chart","ids","part","paramsStringified","videos","title","snippet","player","description","channelTitle","publishedAt","thumbnail","thumbnails","medium","statistics","viewCount","likeCount","dislikeCount","origin","YouTube","VimeoService","maxResultsSearch","page","query","per_page","access_token","Vimeo","uri","replace","name","user","release_time","height","pictures","sizes","width","url","link","API_KEYS_LS","saveSearchEntryToLS","platform","entry","history","window","localStorage","getItem","historyParsed","JSON","parse","unshift","setItem","getSearchEntriesFromLS","getKeysFromLS","ytService","vimeoService","initialState","loading","error","selectedVideoPlatform","fromHomepage","searchResult","popular","fetchPopular","createAsyncThunk","dispatch","getState","state","clearStore","setSearchPhrase","phrase","headerReducer","headerSlice","createSlice","reducers","setVideoPlatform","action","payload","setFromHomepage","extraReducers","pending","fulfilled","rejected","actions","selectHeader","store","configureStore","reducer","Rectangle","style","background","margin","padding","VideoTile","videoData","useHistory","useState","loaded","setLoaded","className","styles","container","aria-label","onClick","push","src","alt","onLoad","Math","round","SkeletonVideoTile","Home","props","useDispatch","useSelector","useEffect","header","Array","el","idx","Search","onSubmit","limitHistory","setSearch","event","preventDefault","length","input","list","placeholder","value","autoComplete","onChange","e","target","slice","index","buttonCancel","buttonSearch","disabled","UniversalSelect","options","label","onSelect","select","option","ApiKey","setPlatform","keyValue","setKeyValue","active","autoCorrect","Header","searchHistory","setSearchHistory","isApiBox","setIsApiBox","handleSubmit","Object","values","location","reload","apiComponent","SkeletonVideoTileBig","VideoTileBig","image","substring","useLocation","useInView","ref","inView","scrollTo","locationPhrase","queryString","Watch","useParams","setIndex","findIndex","to","button","placeHolder","frameBorder","allow","allowFullScreen","App","basename","position","top","exact","path","component","NoMatch","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1339047b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"video-tile-big_container__1V7hm\",\"image\":\"video-tile-big_image__2y0Ai\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"watch_container__1Ngqr\",\"button\":\"watch_button__263pM\",\"placeHolder\":\"watch_placeHolder__3m1b4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"video-tile_container__INMTm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"search_input__2xXNa\",\"buttonCancel\":\"search_buttonCancel__3GS7z\",\"buttonSearch\":\"search_buttonSearch__1QB2G\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"api-key_container__xwobL\",\"active\":\"api-key_active__QG0Dw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"home_container__3vpxv\",\"header\":\"home_header__3cqQx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"select\":\"universal-select_select__JEGpZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"header_header__3wy06\",\"apiComponent\":\"header_apiComponent__2lZmS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"search_container__38NxV\"};","export enum VideoPlatforms  {\n    YouTube = \"YouTube\",\n    Vimeo = \"Vimeo\"\n}\n","import axios from 'axios';\nimport {stringify} from \"querystring\";\nimport {VideoPlatforms} from \"../app/video-platforms\";\nimport {Chart} from \"../models/videos\";\nimport { IYouTube } from \"../models/youtubeApi\";\n\ninterface Params {\n    id?: string,\n    maxResults: number,\n    chart: Chart,\n    part: string[],\n    key: string\n}\n\nexport class YoutubeService {\n    baseUrl: string = 'https://www.googleapis.com/youtube/v3';\n    videosUrl: string = `${this.baseUrl}/videos?`;\n    searchUrl = `${this.baseUrl}/search?`;\n\n    constructor(private apiKey: string = '') {}\n\n    public set key(apiKey: string) {\n        this.apiKey = apiKey;\n    }\n\n    async search(maxResults: number, searchPhrase: string, pageToken?: string) {\n\n        const params = stringify(\n            {\n                pageToken,\n                q: searchPhrase,\n                type: 'video',\n                maxResults: maxResults,\n                key: this.apiKey\n            });\n        \n        const search = await axios.get(this.searchUrl + params);\n\n        const idsList: string = search.data.items.map( (video: any) => video.id.videoId ).join(',');\n        const res = await this.getVideos( maxResults,'', idsList);\n\n        return {\n            ...res,\n            nextPageToken: search.data.nextPageToken\n        };\n    }\n\n    async getVideos(maxResults: number, chart: Chart, ids?: string) {\n\n        const params: Params | any  = {\n            maxResults: maxResults,\n            part: ['snippet','statistics'],\n            key: this.apiKey,\n        }\n\n        if(ids) params.id = ids;\n        if(chart) params.chart = chart;\n\n        const paramsStringified = stringify(params);\n\n        const videos = await axios.get(this.videosUrl + paramsStringified );\n\n        const data = videos.data.items.map( (video: IYouTube) => (\n            {\n                id: video.id,\n                title: video.snippet.title,\n                player: `https://www.youtube.com/embed/${video.id}`,\n                description: video.snippet.description,\n                channelTitle: video.snippet.channelTitle,\n                publishedAt: video.snippet.publishedAt,\n                thumbnail: video.snippet.thumbnails.medium,\n                statistics: {\n                    viewCount: video.statistics.viewCount,\n                    likeCount: video.statistics.likeCount,\n                    dislikeCount: video.statistics.dislikeCount\n                }\n            }));\n\n        return { data, origin: VideoPlatforms.YouTube, nextPageToken: videos.data.nextPageToken };\n    }\n}\n","import axios from 'axios';\nimport {stringify} from \"querystring\";\nimport {VideoPlatforms} from \"../app/video-platforms\";\n\nexport class VimeoService {\n    baseUrl: string = 'https://api.vimeo.com/';\n    searchUrl: string = `${this.baseUrl}/videos?`;\n    maxResultsSearch: number = 5;\n\n    constructor(private apiKey: string = '') {}\n\n    public set key(apiKey: string) {\n        this.apiKey = apiKey;\n    }\n\n    async search(searchPhrase: string, page: number = 1) {\n\n        const params = stringify(\n            {\n                page,\n                query: searchPhrase,\n                per_page: this.maxResultsSearch,\n                access_token: this.apiKey\n            });\n\n        const search = await axios.get(this.searchUrl + params);\n\n        return {\n            nextPageToken: page + 1,\n            origin: VideoPlatforms.Vimeo,\n            data: search.data.data.map( (video: any) => (\n                {\n                    id: video.uri.replace('/videos/',''),\n                    title: video.name,\n                    player: `https://player.vimeo.com/video/${video.uri.replace('/videos/','')}`,\n                    description: video.description || '',\n                    channelTitle: video.user.name,\n                    publishedAt: video.release_time,\n                    thumbnail: {\n                        height: video.pictures.sizes[3].height,\n                        width: video.pictures.sizes[3].width,\n                        url: video.pictures.sizes[3].link\n                    },\n                    statistics: {\n                        viewCount: 0,\n                        likeCount: 0,\n                        dislikeCount: 0\n                    }\n                }\n            ))\n        };\n    }\n\n}\n","import {VideoPlatforms} from \"./video-platforms\";\nimport {IKey} from \"../models/key\";\n\nexport const API_KEYS_LS = 'apiKeys';\n\nexport function saveSearchEntryToLS(platform: VideoPlatforms, entry: string) {\n    const history = window.localStorage.getItem(platform);\n    const historyParsed = history ?  JSON.parse(history) : [];\n    historyParsed.unshift(entry);\n\n    window.localStorage.setItem(platform, JSON.stringify(historyParsed));\n}\n\nexport function getSearchEntriesFromLS(platform: VideoPlatforms) {\n    const history = window.localStorage.getItem(platform);\n    return history ?  JSON.parse(history) : [];\n}\n\nexport function saveKeysToLS(data: IKey) {\n    window.localStorage.setItem(API_KEYS_LS, JSON.stringify(data));\n}\n\nexport function getKeysFromLS() {\n    const data = window.localStorage.getItem(API_KEYS_LS);\n    return data ?  JSON.parse(data) : {YouTube: '', Vimeo: ''};\n}\n","export const MAX_RESULTS_POPULAR = 24;\nexport const MAX_RESULTS_SEARCH = 5;\n","import {createAsyncThunk, createSlice} from '@reduxjs/toolkit';\n\nimport {RootState} from \"../../app/store\";\nimport {VideoPlatforms} from \"../../app/video-platforms\";\nimport {YoutubeService} from \"../../api/youtube.service\";\nimport {VimeoService} from \"../../api/vimeo.service\";\nimport {getKeysFromLS} from \"../../app/utils\";\nimport {IVideosResults} from \"../../models/videos\";\nimport {MAX_RESULTS_POPULAR, MAX_RESULTS_SEARCH} from \"../../app/consts\";\n\nconst ytService = new YoutubeService( getKeysFromLS().YouTube );\nconst vimeoService = new VimeoService( getKeysFromLS().Vimeo );\n\ninterface IHeaderState {\n    loading: boolean;\n    error: string;\n    selectedVideoPlatform: VideoPlatforms;\n    searchPhrase: string;\n    fromHomepage: boolean;\n    searchResult: IVideosResults;\n    popular: IVideosResults;\n}\n\nconst initialState: IHeaderState = {\n    loading: false,\n    error: '',\n    selectedVideoPlatform: VideoPlatforms.YouTube,\n    searchPhrase: '',\n    fromHomepage: true,\n    searchResult: {\n        origin: VideoPlatforms.YouTube,\n        nextPageToken: '',\n        data: []\n    },\n    popular: {\n        origin: VideoPlatforms.YouTube,\n        nextPageToken: '',\n        data: []\n    },\n};\n\nexport const fetchPopular: any = createAsyncThunk('fetchPopularVideos', async () => {\n    return ytService.getVideos(MAX_RESULTS_POPULAR,'mostPopular');\n});\n\nexport const search: any = createAsyncThunk('searchVideos',\n    async (data: any, {dispatch, getState}) => {\n    const state: any = getState();\n    if(!data?.nextPageToken) dispatch( clearStore(getState()) );\n\n    dispatch(setSearchPhrase(data.phrase));\n\n    return state.headerReducer.selectedVideoPlatform === VideoPlatforms.YouTube ?\n        ytService.search(MAX_RESULTS_SEARCH, data.phrase, data?.nextPageToken) :\n        vimeoService.search(data.phrase, data?.nextPageToken);\n});\n\n\nexport const headerSlice = createSlice({\n        name: 'header',\n        initialState,\n        reducers: {\n            setVideoPlatform: (state, action) => {\n                state.selectedVideoPlatform = action.payload;\n            },\n            clearStore: (state, action) => {\n                state.searchResult = {\n                    nextPageToken: '',\n                    origin: VideoPlatforms.YouTube,\n                    data: []\n                };\n            },\n            setSearchPhrase: (state, action) => {\n                state.searchPhrase = action.payload;\n            },\n            setFromHomepage: (state, action) => {\n                state.fromHomepage = action.payload;\n            }\n        },\n        extraReducers: {\n            [fetchPopular.pending]: (state) => {\n                if (!state.loading) state.loading = true;\n            },\n            [fetchPopular.fulfilled]: (state, action) => {\n                if(state.loading) state.loading = false;\n                state.popular = {\n                    nextPageToken: action.payload.nextPageToken,\n                    origin: VideoPlatforms.YouTube,\n                    data: [ ...state.searchResult.data, ...action.payload.data ]\n                }\n            },\n            [fetchPopular.rejected]: (state, action) => {\n                if (state.loading) state.loading = false;\n                state.error = action.error;\n            },\n\n            [search.pending]: (state) => {\n                if (!state.loading) state.loading = true;\n            },\n            [search.fulfilled]: (state, action) => {\n                if(state.loading) state.loading = false;\n                state.searchResult = {\n                    nextPageToken: action.payload.nextPageToken,\n                    origin: action.payload.origin,\n                    data: [ ...state.searchResult.data, ...action.payload.data ]\n                }\n            },\n            [search.rejected]: (state, action) => {\n                if (state.loading) state.loading = false;\n                state.error = action.error;\n            },\n        },\n    }\n\n);\n\nexport const { setVideoPlatform, clearStore, setSearchPhrase, setFromHomepage } = headerSlice.actions;\n\nexport const selectHeader = (state: RootState) => state.headerReducer;\n\nexport default headerSlice.reducer;\n","import { configureStore } from '@reduxjs/toolkit';\nimport headerReducer from '../components/header/header.slice'\n\nexport const store = configureStore({\n    reducer: {\n        headerReducer,\n    }\n})\n\nexport type RootState = ReturnType<typeof store.getState>\nexport type AppDispatch = typeof store.dispatch\n","import * as React from 'react';\n\nexport interface RectangleProps {\n    height: number,\n    width: number,\n}\n\nconst Rectangle: React.FC< RectangleProps > = ({height, width}) => {\n\n    return (\n        <div style={{width: `${width}px`, height: `${height}px`, background: \"#e0e0e0\", margin: \"0\", padding: \"0\"}} />\n    )\n};\n\nexport default Rectangle;\n","import * as React from 'react';\nimport {useState} from \"react\";\nimport {useHistory} from \"react-router-dom\";\n\nimport Rectangle from \"../../skeletons/rectangle\";\nimport {IVideoExtended} from \"../../models/videos\";\n\nimport styles from './video-tile.module.scss';\n\nexport interface VideoTileProps {\n    videoData: IVideoExtended\n}\n\nconst VideoTile: React.FC< VideoTileProps > = ({videoData}) => {\n    let history = useHistory();\n\n    const [loaded, setLoaded] = useState(false);\n\n    return (\n        <div className={styles.container}\n             aria-label=\"video tile\"\n             onClick={ () => history.push(`/watch/${videoData.id}`) }>\n\n            <img src={videoData?.thumbnail?.url}\n                 alt={videoData?.title}\n                 onLoad={() => setLoaded(true)}/>\n\n            { !loaded && <Rectangle aria-label=\"video placeholder\" height={180} width={320} /> }\n\n            <h1 aria-label=\"title\">{videoData?.title}</h1>\n            <h2 aria-label=\"channel name\">{videoData?.channelTitle}</h2>\n\n            <p aria-label=\"views\">\n                { videoData?.statistics?.viewCount > 1000000 ?\n                `${(Math.round(videoData?.statistics?.viewCount / 100000)/10)}M views`\n                : videoData?.statistics?.viewCount > 999 ?\n                    (`${(Math.round(videoData?.statistics?.viewCount / 100)/10)}k views`) :\n                    (`${videoData?.statistics?.viewCount} views`)}\n            </p>\n\n        </div>\n\n    )\n};\n\nexport default VideoTile;\n","import * as React from 'react';\nimport styles from \"../components/video-tile/video-tile.module.scss\";\nimport Rectangle from \"./rectangle\";\n\nexport interface SkeletonVideoTileProps {}\n\nconst SkeletonVideoTile: React.FC< SkeletonVideoTileProps > = () => {\n    return (\n        <div className={styles.container}>\n            <Rectangle height={180} width={320} />\n            <h1>\n                <Rectangle height={25} width={320} />\n            </h1>\n            <h2>\n                <Rectangle height={20} width={150} />\n            </h2>\n        </div>\n    )\n};\n\nexport default SkeletonVideoTile;\n","import * as React from 'react';\nimport {useEffect} from \"react\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {setFromHomepage, selectHeader} from \"../../components/header/header.slice\";\n\nimport VideoTile from \"../../components/video-tile\";\nimport SkeletonVideoTile from \"../../skeletons/skeleton-video-tile\";\nimport {IVideoExtended} from \"../../models/videos\";\nimport {MAX_RESULTS_POPULAR} from \"../../app/consts\";\n\nimport styles from './home.module.scss'\n\nexport interface HomeProps {}\n\nconst Home: React.FC< HomeProps > = props => {\n\n    const dispatch = useDispatch();\n\n    const { popular, loading } = useSelector(selectHeader);\n\n    useEffect( () => {\n        dispatch(setFromHomepage(true));\n    })\n\n     return (\n        <div className={styles.container}>\n            <h1 className={styles.header}>Trending now</h1>\n            <main>\n                {\n                    loading ? [...Array(MAX_RESULTS_POPULAR)].map( (el, idx) => (\n                        <div key={idx}>\n                            <SkeletonVideoTile/>\n                        </div>))\n                        :\n                        popular.data.map((el: IVideoExtended, idx: number) => (\n                                <div key={idx}>\n                                    <VideoTile videoData={el}/>\n                                </div>\n                        ))\n                }\n            </main>\n        </div>\n\n    );\n};\n\nexport default Home;\n","import * as React from 'react';\nimport styles from './search.module.scss';\nimport {useState} from \"react\";\n\nexport interface SearchProps {\n    onSubmit: Function,\n    history?: string[],\n    limitHistory?: number\n}\n\nconst Search: React.FC< SearchProps > = ( { onSubmit, history, limitHistory } ) => {\n\n    const [search, setSearch] = useState('');\n\n    const handleSubmit = (event: React.SyntheticEvent) => {\n        event.preventDefault();\n        if(search.length) onSubmit(search);\n    }\n\n    return (\n        <form onSubmit={handleSubmit}>\n            <input className={styles.input}\n                   aria-label=\"search input\"\n                   type=\"text\"\n                   name=\"search\"\n                   list=\"history\"\n                   placeholder=\"Search\"\n                   value={search}\n                   autoComplete=\"off\"\n                   onChange={ e => setSearch(e.target.value)}\n            />\n            <datalist id=\"history\"\n                      aria-label=\"search history list\">\n                {\n                    history && limitHistory && (\n                        history.slice(0, limitHistory).map(\n                            (entry, index) => ( <option value={entry} key={index}/> )\n                        )\n                    )\n                }\n            </datalist>\n            {\n                !!search.length && (\n                    <input type=\"button\"\n                           aria-label=\"clear button\"\n                           className={styles.buttonCancel}\n                           onClick={ () => setSearch('') }\n                    />\n                )\n            }\n\n            <input type=\"button\"\n                   aria-label=\"search button\"\n                   className={styles.buttonSearch}\n                   onClick={ () => onSubmit(search) }\n                   disabled = { !search.length }\n            />\n        </form>\n)\n};\n\nexport default Search;\n","import * as React from 'react';\nimport styles from './universal-select.module.scss';\n\nexport interface UniversalSelectProps {\n    label?: string\n    options: string[],\n    onSelect: Function,\n}\n\nconst UniversalSelect: React.FC< UniversalSelectProps > = ({options, label, onSelect}) => {\n\n    return (\n        <select className={styles.select}\n                aria-label={label}\n                onChange={ (e) => { onSelect(e.target.value) } }>\n            {\n                !!options.length && (\n                    options.map(\n                        (option: string, index: number) => <option value={option}\n                                                                   className={styles.option}\n                                                                   key={index} >{option}</option>\n                    )\n                )\n            }\n        </select>\n    )\n};\n\nexport default UniversalSelect;\n","import * as React from 'react';\nimport {useEffect, useState} from 'react';\nimport styles from './api-key.module.scss';\nimport {VideoPlatforms} from \"../../app/video-platforms\";\nimport {getKeysFromLS, saveKeysToLS} from \"../../app/utils\";\nimport {IKey} from \"../../models/key\";\n\nexport interface ApiKeyProps {}\n\nconst ApiKey: React.FC< ApiKeyProps > = ( ) => {\n    const [platform, setPlatform] = useState(VideoPlatforms.YouTube);\n    const [keyValue, setKeyValue] = useState<IKey>(getKeysFromLS || '');\n\n    useEffect(() => {\n        saveKeysToLS(keyValue);\n    },[keyValue]);\n\n    const handleChange = (e: any) => {\n        setKeyValue(\n            {\n                ...keyValue,\n                [platform]: e.target.value\n            }\n        )\n    }\n\n    return (\n        <div className={styles.container}>\n            <div>\n                <p className={platform === VideoPlatforms.YouTube ? styles.active : '' }\n                   onClick={() => setPlatform(VideoPlatforms.YouTube)}>YouTube</p>\n\n                <p className={platform === VideoPlatforms.Vimeo ? styles.active : '' }\n                   onClick={ () => setPlatform(VideoPlatforms.Vimeo)}>Vimeo</p>\n            </div>\n            <div>\n                <input\n                    aria-label=\"api key input\"\n                    type=\"text\"\n                    name=\"api key\"\n                    placeholder=\"Key\"\n                    autoComplete=\"off\"\n                    autoCorrect=\"false\"\n                    value={\n                        platform === VideoPlatforms?.YouTube ? keyValue?.YouTube :\n                            platform === VideoPlatforms?.Vimeo ? keyValue?.Vimeo : ''\n                    }\n                    onChange={handleChange}\n                />\n            </div>\n        </div>\n    )\n};\n\nexport default ApiKey;\n","import * as React from 'react';\nimport {useEffect, useState} from 'react';\nimport {useDispatch, useSelector} from 'react-redux'\nimport {useHistory} from \"react-router-dom\";\n\nimport Search from \"../search\";\nimport UniversalSelect from \"../universal-select\";\n\nimport {getSearchEntriesFromLS, saveSearchEntryToLS} from \"../../app/utils\";\nimport {VideoPlatforms} from \"../../app/video-platforms\";\nimport {fetchPopular, selectHeader, setVideoPlatform} from \"./header.slice\";\n\nimport styles from './header.module.scss';\nimport ApiKey from \"../api-key\";\n\nconst NUMBER_OF_SEARCH_HISTORY_ENTRIES = 10;\n\nconst Header: React.FC = () => {\n    const history = useHistory();\n\n    const dispatch = useDispatch();\n\n    const { selectedVideoPlatform } = useSelector(selectHeader);\n    const [searchHistory, setSearchHistory] = useState<string[]>( getSearchEntriesFromLS(VideoPlatforms.YouTube) );\n    const [isApiBox, setIsApiBox] = useState(false);\n\n    useEffect( () => {\n        dispatch(fetchPopular());\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    },[]);\n\n    const handleSelect = ( option: VideoPlatforms) => {\n        dispatch(setVideoPlatform(option));\n        setSearchHistory(getSearchEntriesFromLS(option));\n    }\n\n    const handleSubmit = async ( searchPhrase: string ) => {\n        saveSearchEntryToLS(selectedVideoPlatform, searchPhrase);\n        setSearchHistory( getSearchEntriesFromLS(selectedVideoPlatform) );\n        history.push(`/search?q=${searchPhrase}`);\n    }\n\n    return (\n            <div className={styles.header}>\n                <h1 onClick={ () => history.push(`/`) }>glimpse</h1>\n                <div>\n                    <UniversalSelect options={ Object.values(VideoPlatforms) } onSelect={ handleSelect } />\n                    <Search onSubmit={handleSubmit} history={searchHistory} limitHistory={NUMBER_OF_SEARCH_HISTORY_ENTRIES}/>\n                </div>\n                <button onClick={ () => {\n                    if(isApiBox) window.location.reload();\n                    setIsApiBox(!isApiBox);\n                }}/>\n                { isApiBox &&\n                    <div className={styles.apiComponent}>\n                        <ApiKey/>\n                    </div>\n                }\n            </div>\n    )\n};\n\nexport default Header;\n","import * as React from 'react';\nimport styles from \"../components/video-tile-big/video-tile-big.module.scss\";\nimport Rectangle from \"./rectangle\";\n\nexport interface SkeletonVideoTileBigProps {}\n\nconst style = {\n    margin: \".5rem 0\",\n    padding: \"0\"\n}\n\nconst SkeletonVideoTileBig: React.FC< SkeletonVideoTileBigProps > = () => {\n    return (\n        <div className={styles.container}>\n                <div>\n                    <Rectangle height={225} width={300} />\n                </div>\n                <div>\n                    <div style={style}>\n                        <Rectangle height={40} width={500} />\n                    </div>\n                    <div style={style}>\n                        <Rectangle height={30} width={400} />\n                    </div>\n                </div>\n        </div>\n    )\n};\n\nexport default SkeletonVideoTileBig;\n","import * as React from 'react';\nimport {useState} from \"react\";\nimport {useHistory} from \"react-router-dom\";\n\nimport Rectangle from \"../../skeletons/rectangle\";\nimport {IVideoExtended} from \"../../models/videos\";\n\nimport styles from './video-tile-big.module.scss';\n\nexport interface VideoTileBigProps {\n    videoData: IVideoExtended\n}\n\nconst VideoTileBig: React.FC< VideoTileBigProps > = ({videoData}) => {\n    const DESC_CHAR_LIMIT = 120;\n\n    let history = useHistory();\n\n    const [loaded, setLoaded] = useState(false);\n\n    return (\n        <div className={styles.container}\n             aria-label=\"video tile\"\n             onClick={ () => history.push(`/watch/${videoData.id}`) }>\n\n            <div className={styles.image}>\n                { !loaded && <Rectangle aria-label=\"video placeholder\" height={225} width={300} /> }\n                <img src={videoData?.thumbnail?.url}\n                     alt={videoData?.title}\n                     onLoad={() => setLoaded(true)}/>\n            </div>\n\n            <div>\n                <h1 aria-label=\"title\">{videoData?.title}</h1>\n                <p aria-label=\"views and channel\">\n                    { !!videoData?.statistics?.viewCount && (\n                        videoData?.statistics?.viewCount > 1000000 ?\n                            `${(Math.round(videoData?.statistics?.viewCount / 100000)/10)}M views   •  `\n                            : videoData?.statistics?.viewCount > 999 ?\n                            (`${(Math.round(videoData?.statistics?.viewCount / 100)/10)}k views  •  `) :\n                            (`${videoData?.statistics?.viewCount} views  •  `)\n                    )}\n                    {`${videoData?.channelTitle}`}\n                </p>\n\n                <p>{videoData?.description && videoData?.description.substring(0,DESC_CHAR_LIMIT)+' ...'}</p>\n\n            </div>\n        </div>\n    )\n};\n\nexport default VideoTileBig;\n","import * as React from 'react';\nimport { useEffect } from \"react\";\nimport * as queryString from \"querystring\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {useLocation} from \"react-router-dom\";\nimport { useInView } from 'react-intersection-observer';\n\nimport {search, selectHeader, setFromHomepage} from \"../../components/header/header.slice\";\nimport SkeletonVideoTileBig from \"../../skeletons/skeleton-video-tile-big\";\nimport VideoTileBig from \"../../components/video-tile-big\";\nimport {IVideoExtended} from \"../../models/videos\";\nimport {MAX_RESULTS_SEARCH} from \"../../app/consts\";\n\nimport styles from './search.module.scss'\n\nexport interface SearchProps {}\n\nconst Search: React.FC< SearchProps > = props => {\n    const dispatch = useDispatch();\n    const location = useLocation();\n\n    const { searchResult, searchPhrase, selectedVideoPlatform, loading } = useSelector(selectHeader);\n    const [ref, inView] = useInView();\n\n    useEffect( () => {\n        window.scrollTo(0, 0);\n        const locationPhrase = queryString.parse(location.search)['?q'];\n        if(locationPhrase !== searchPhrase ||\n            searchResult.origin !== selectedVideoPlatform ) dispatch( search({ phrase: locationPhrase}));\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [location]);\n\n    useEffect( () => {\n        if(inView) dispatch(search(\n            {\n                phrase: queryString.parse(location.search)['?q'],\n                nextPageToken: searchResult.nextPageToken,\n            } ));\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [inView]);\n\n    useEffect( () => {\n        dispatch(setFromHomepage(false));\n    })\n\n     return (\n        <main className={styles.container} aria-label=\"search view\">\n            { searchResult.data.map((el: IVideoExtended, idx: number) => (\n                    <div key={idx} ref={ searchResult.data.length - 1 === idx ? ref : null}>\n                        <VideoTileBig videoData={el}/>\n                    </div>\n                ))\n            }\n            { loading && [...Array(MAX_RESULTS_SEARCH)].map((el, idx) => (\n                    <div key={idx}>\n                        <SkeletonVideoTileBig/>\n                    </div>)\n                )\n            }\n        </main>\n\n    );\n};\n\nexport default Search;\n","import * as React from 'react';\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {Link, useParams} from \"react-router-dom\";\n\nimport {search, selectHeader} from \"../../components/header/header.slice\";\n\nimport styles from './watch.module.scss'\nimport { useEffect, useState} from \"react\";\n\nexport interface WatchProps {}\n\nconst Watch: React.FC< WatchProps > = props => {\n    const dispatch = useDispatch();\n\n    let { id } = useParams< {id: string} >();\n    const { searchResult, popular, fromHomepage, searchPhrase} = useSelector(selectHeader);\n    const [index, setIndex] = useState<any>(null);\n\n    useEffect( () => {\n        let index: number;\n        if(fromHomepage) {\n            index = popular.data.findIndex(el => el.id === id);\n        }\n        else {\n            index = searchResult.data.findIndex(el => el.id === id);\n            if(!(searchResult.data[index+1]?.id)) dispatch(search(\n                {\n                    phrase: searchPhrase,\n                    nextPageToken: searchResult.nextPageToken,\n                }));\n        }\n\n        setIndex( index );\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    },[id]);\n\n    return (\n        <main className={styles.container} aria-label=\"watch view\">\n            { index > 0 ?\n            <Link to={`/watch/${fromHomepage ? popular.data[index-1]?.id : searchResult.data[index-1]?.id}`}\n                  className={styles.button} /> : <div className={styles.placeHolder} />}\n            <div>\n                <iframe\n                    width=\"853\"\n                    height=\"480\"\n                    src={fromHomepage ? popular.data[index]?.player : searchResult?.data[index]?.player}\n                    frameBorder=\"0\"\n                    allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n                    allowFullScreen\n                    title=\"Video Player\"\n                />\n            </div>\n            <Link to={`/watch/${fromHomepage ? popular.data[index+1]?.id :searchResult.data[index+1]?.id}`}\n                  className={styles.button} />\n        </main>\n    );\n};\n\nexport default Watch;\n","import React from 'react';\nimport {BrowserRouter as Router, Switch, Route} from 'react-router-dom';\n\nimport './App.css';\nimport Home from \"./pages/home\";\nimport Header from \"./components/header\";\nimport Search from \"./pages/search\";\nimport Watch from \"./pages/watch\";\n\nexport default function App() {\n  return (\n\n        <Router basename='/glimpse'>\n            <div style={{position: \"sticky\", top: \"0\"}}>\n              <Header />\n            </div>\n            <Switch>\n              <Route exact path=\"/\" component={Home} />\n              <Route path=\"/search\" component={Search}/>\n              <Route path=\"/watch/:id\" component={Watch}/>\n              <Route path=\"*\">\n                <NoMatch />\n              </Route>\n            </Switch>\n        </Router>\n  );\n}\n\nfunction NoMatch() {\n  return <h2>404</h2>;\n}\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { store } from './app/store';\nimport { Provider } from 'react-redux';\n\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n      <Provider store={store}>\n        <App />\n      </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}